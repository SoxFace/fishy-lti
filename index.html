
<html>
  <head>
  </head>
  <body>
  Pick a banner to add to your site
  <div>
    <a href="#"><img src='https://canvas.uts.edu.au/courses/58/files/1805/preview' style='width: 200px;'/></a>
    <a href="#"><img src='https://canvas.uts.edu.au/courses/58/files/1804/preview' style='width: 200px;'/></a>
    <a href="#"><img src='https://canvas.uts.edu.au/courses/58/files/1807/preview' style='width: 200px;'/></a>
  </div>
  <script>
  (function() {
    // Original URL https://www.edu-apps.org/tool_redirect?url=%2Fimages.html
    var url = location.href;
    var args = (url.split(/\?/)[1] || "").split(/\&/);
    // args = "url=%2Fimages.html"
    var params = {}
    for(var idx in args) {
      // idx = [0..7] and args = "url=%2Fimages.html"
      var arg = args[idx].split(/\=/);
      // arg = "url,%2Fimages.html"
      var key = arg[0];
      // key = "url"
      var value = arg[1];
      // value = "%2Fimages.html"
      if(key && value) {
        // params = { url: '/%2Fimages.html }
        params[key] = decodeURIComponent(value);
        // decodeURIComponent('%2Findex.html') = '/index.html'
      }
    }
    var links = document.getElementsByTagName('A');
    if(params['launch_presentation_return_url'] && !params['launch_presentation_return_url'].match(/\?/)) {
      params['launch_presentation_return_url'] = params['launch_presentation_return_url'] + "?";
    }
    if(params['selection_directive'] != "embed_content") {
      alert("This page is normally used an an example of embedding content, but you've referenced it some other way. As such, it's not going to be very useful to you. Sorry.");
    }
    for(var idx in links) {
      var link = links[idx];
      if(link && link.children) {
        var img = link.children[0];
        link.href = [params['launch_presentation_return_url'], 'embed_type=image', ('url=' + encodeURIComponent(img.src))].join('&');
      }
    }
  })();
  </script>
  </body>
</html>
